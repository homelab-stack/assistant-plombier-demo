import { useState } from "react";

export default function VocalToDevis() {
  const [loading, setLoading] = useState(false);
  const [devis, setDevis] = useState("");

  const handleClick = () => {
    setLoading(true);
    setDevis("");

    // â³ Simulation IA : dÃ©lai de 1.2 sec
    setTimeout(() => {
      setDevis(`
ğŸ™ï¸ Message vocal reÃ§u :

"Bonjour, câ€™est pour une fuite sous Ã©vier chez Mme Bernard,
Paris 15, remplacement siphon, 1h de main-dâ€™Å“uvre."

ğŸ” Analyse automatiqueâ€¦
ğŸ“„ GÃ©nÃ©ration du devisâ€¦

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸ“„ Devis gÃ©nÃ©rÃ©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Client : Mme Bernard
Adresse : Paris 15
Intervention : Remplacement siphon + diagnostic
Main-dâ€™Å“uvre : 1h
DÃ©placement : Inclus
Total : 145â‚¬ TTC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ” Devis prÃªt Ã  Ãªtre envoyÃ© au client
      `);
      setLoading(false);
    }, 1200);
  };

  return (
    <div style={{ marginTop: "20px" }}>
      <button
        onClick={handleClick}
        style={{
          padding: "12px 18px",
          backgroundColor: "#ff7e5f",
          color: "white",
          borderRadius: "10px",
          border: "none",
          cursor: "pointer",
          fontSize: "16px",
          fontWeight: "bold",
        }}
      >
        ğŸ™ï¸ Message vocal â†’ Devis auto
      </button>

      {/* Zone dâ€™affichage */}
      <div
        style={{
          marginTop: "15px",
          padding: "15px",
          background: "#fff",
          borderRadius: "10px",
          whiteSpace: "pre-wrap",
          fontFamily: "monospace",
          lineHeight: "1.5",
          border: "1px solid #ddd",
        }}
      >
        {loading && "â³ Analyse du message vocalâ€¦"}
        {!loading && devis}
      </div>
    </div>
  );
}
